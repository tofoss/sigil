# ==============================================================================
# Environment Configuration Example
# Copy this file to .env and update values as needed
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ------------------------------------------------------------------------------
POSTGRES_USER=your_username
POSTGRES_PASSWORD=your_password
POSTGRES_DB=organizer

# PostgreSQL client environment variables
PGHOST=localhost
PGPORT=5432
PGDATABASE=organizer
PGUSER=your_username
PGPASSWORD=your_password

# ------------------------------------------------------------------------------
# Security Secrets (REQUIRED)
# Generate with: openssl rand -base64 64
# ------------------------------------------------------------------------------
JWT_SECRET=your_jwt_secret_here
XSRF_SECRET=your_xsrf_secret_here

# ------------------------------------------------------------------------------
# Server Configuration
# ------------------------------------------------------------------------------
# Port the backend server listens on
PORT=8081

# HTTP server timeouts
READ_TIMEOUT=15s
WRITE_TIMEOUT=15s
IDLE_TIMEOUT=60s
SHUTDOWN_TIMEOUT=30s

# ------------------------------------------------------------------------------
# Authentication Configuration
# ------------------------------------------------------------------------------
# JWT access token validity duration
ACCESS_TOKEN_DURATION=6h

# Refresh token validity duration (30 days = 720h, 90 days = 2160h)
REFRESH_TOKEN_DURATION=720h

# Set to false for local development without HTTPS
COOKIE_SECURE=true

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:5173

# Preflight cache duration in seconds
CORS_MAX_AGE=3600

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
# Max requests per window for auth endpoints
AUTH_RATE_LIMIT=5

# Rate limit window duration
RATE_LIMIT_WINDOW=1m

# ------------------------------------------------------------------------------
# File Upload Configuration
# ------------------------------------------------------------------------------
# Directory for uploaded files (absolute path recommended for production)
UPLOAD_PATH=/path/to/uploads
DB_PATH=/path/to/db

# Sigil user
PUID=1000
PGID=1000

# Maximum file size in bytes (default: 10MB = 10485760)
MAX_FILE_SIZE=10485760

# ------------------------------------------------------------------------------
# Recipe Processing (Background Jobs)
# ------------------------------------------------------------------------------
# How often to check for pending jobs
JOB_POLL_INTERVAL=10s

# Number of jobs to process in parallel
JOB_BATCH_SIZE=5

# Maximum retry attempts for failed jobs
JOB_MAX_RETRIES=3

# Timeout for individual job processing
JOB_TIMEOUT=5m

# Timeout for fetching content from URLs
CONTENT_FETCH_TIMEOUT=30s

# Timeout for AI processing
AI_PROCESSING_TIMEOUT=180s

# ------------------------------------------------------------------------------
# AI Integration
# ------------------------------------------------------------------------------
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# ------------------------------------------------------------------------------
# Frontend Configuration
# ------------------------------------------------------------------------------
# Base route for the application (e.g., "/sigil" for https://example.com/sigil/)
# Leave empty or set to "/" for root deployment
VITE_BASE_ROUTE=/
